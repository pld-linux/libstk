--- libstk/test/test_app.cpp.orig	2004-05-07 21:53:52.000000000 +0200
+++ libstk/test/test_app.cpp	2004-05-08 16:23:37.546933072 +0200
@@ -41,7 +41,9 @@
 void help(const std::string& progname, int exitval);
 int parse_args(int argc, char *argv[]);
 
+#ifdef HAVE_LOGGING
 log_level main_log_level = LL_Info;
+#endif
 
 bool scroll_slot(scroll_model::ptr target, int increment)
 {
@@ -261,6 +263,7 @@
                 break;
 
             case 'l':
+#ifdef HAVE_LOGGING
                 if (strcmp("none", optarg) == 0) main_log_level = stk::LL_None;
                 else if (strcmp("error", optarg) == 0) main_log_level = stk::LL_Error;
                 else if (strcmp("warning", optarg) == 0) main_log_level = stk::LL_Warning;
@@ -270,6 +273,10 @@
                     std::cout << "invalid log level " << optarg << std::endl;
                     help(progname, 2);
                 }
+#else
+		std::cout << "libstk was built without logging support" << std::endl;
+		exit(1);
+#endif
                 break;
 
             default:
--- libstk/test/timer_test.cpp.orig	2003-08-23 18:36:12.000000000 +0200
+++ libstk/test/timer_test.cpp	2004-05-08 16:33:06.228480336 +0200
@@ -8,7 +8,9 @@
 
 int main()
 {
+#ifdef HAVE_LOGGING
     logger::get()->add_target(&std::cout, LL_Info);
+#endif
     std::cout << "Libstk timer test, please wait 2 seconds" << std::endl;
 
     time_value a = get_current_time_value();
 
--- libstk/configure.in~	2005-09-21 15:11:14.578522856 +0200
+++ libstk/configure.in	2005-09-21 15:12:27.406451328 +0200
@@ -191,7 +191,7 @@
 
 AM_CONFIG_HEADER(libstk/config.h)
 
-CXXFLAGS="$CXXFLAGS -Wall -W -Wno-switch -pedantic -O3 -pthread"
+CXXFLAGS="$CXXFLAGS -Wall -W -Wno-switch -pedantic -pthread"
 
 AC_OUTPUT([
 Makefile
